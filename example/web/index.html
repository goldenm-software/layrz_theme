<!DOCTYPE html>
<html>
  <head>
    <base href="$FLUTTER_BASE_HREF">

    <meta charset="UTF-8">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="robots" content="noindex,nofollow">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png"/>

    <title>Layrz Theme</title>
    <link rel="shortcut icon" href="https://cdn.layrz.com/resources/layrz/appicon/favicon.png" type="image/png">

    <style>
      body {
        background-color: #fafafa;
      }

      #loading-animation {
        width: 100vw;
        height: 100vh;

        display: flex;
        justify-content: center;
        align-items: center;
      }

      #loading-animation .dotlottie-player {
        width: 40%;
        height: 40%;

        max-width: 350px;
        max-height: 350px;
      }
    </style>
  </head>
  <body style="overflow: hidden">
    <div id="loading-animation">
      <dotlottie-player
        class="dotlottie-player"
        src="assets/assets/loading_animation.lottie"
        background="transparent"
        speed="1"
        loop
        autoplay
      ></dotlottie-player>
    </div>
    
    <script src="https://unpkg.com/@dotlottie/player-component@latest/dist/dotlottie-player.mjs" type="module"></script> 

    <script>
      {{flutter_js}}
      {{flutter_build_config}}

      window.addEventListener('load', function (ev) {
        _flutter.loader.load({
          serviceWorkerSettings: {
            serviceWorkerVersion: {{flutter_service_worker_version}},
          },
          onEntrypointLoaded: async function (engine) {
            console.log('[Flutter] Starting engines...')
            const app = await engine.initializeEngine();
            console.log('[Flutter] Engines started');
            
            console.log('[Flutter] Running app...');
            await app.runApp();
            console.log('[Flutter] App started');
          },
        });
      });
    </script>
  </body>
</html>
